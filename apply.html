<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apply for KDF Roles</title>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="container mt-5">
        <div class="card">
            <div class="card-body">
                <h2 class="card-title">Apply for KDF Roles</h2>
                <form id="application_form" action="submit_application.php" method="post" enctype="multipart/form-data">
                    <!-- Personal Information -->
                    <h3>Personal Information</h3>

                    <div class="form-group">
                        <label for="full_name">Full Name:</label>
                        <input type="text" name="full_name" id="full_name" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" name="email" id="email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="phone_number">Phone Number:</label>
                        <input type="tel" name="phone_number" id="phone_number" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="id_number">ID Number:</label>
                        <input type="text" name="id_number" id="id_number" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="county">County:</label>
                        <input type="text" name="county" id="county" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="sub_county">Subcounty:</label>
                        <input type="text" name="sub_county" id="sub_county" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="date_of_birth">Date of Birth:</label>
                        <input type="date" name="date_of_birth" id="date_of_birth" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="date_of_application">Date of Application:</label>
                        <input type="date" name="date_of_application" id="date_of_application" class="form-control"
                            required>
                    </div>
                    <div class="form-group">
                        <label for="education_level">Education Level:</label>
                        <select name="education_level" id="education_level" class="form-control" required>
                            <option value="KCPE">KCPE</option>
                            <option value="KCSE">KCSE</option>
                            <option value="Artisan">Artisan</option>
                            <option value="Certificate">Certificate</option>
                            <option value="Diploma">Diploma</option>
                            <option value="Degree">Degree</option>
                            <option value="Masters">Masters</option>
                            <option value="PhD">PhD</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="nys_training">NYC Training:</label>
                        <select name="nys_training" id="nys_training" class="form-control" required>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="volunteer_experience">Volunteer Experience:</label>
                        <select name="volunteer_experience" id="volunteer_experience" class="form-control" required>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    <div class="form-group" id="volunteer_details_group" style="display: none;">
                        <label for="volunteer_details">Details of Volunteer Experience:</label>
                        <input type="text" name="volunteer_details" id="volunteer_details" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="duration">Preferred Duration of Service:</label>
                        <select name="duration" id="duration" class="form-control" required>
                            <option value="0-5">0-5 years</option>
                            <option value="6-10">6-10 years</option>
                            <option value="10+">10+ years</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Do you have the certificate in KCPE?</label><br>
                        <input type="radio" id="kcpe_yes" name="kcpe" value="yes">
                        <label for="kcpe_yes">Yes</label>
                        <input type="radio" id="kcpe_no" name="kcpe" value="no">
                        <label for="kcpe_no">No</label>
                    </div>
                    
                    <div class="form-group">
                        <label>Do you have the certificate in KCSE?</label><br>
                        <input type="radio" id="kcse_yes" name="kcse" value="yes">
                        <label for="kcse_yes">Yes</label>
                        <input type="radio" id="kcse_no" name="kcse" value="no">
                        <label for="kcse_no">No</label>
                    </div>
                    
                    <div class="form-group">
                        <label>Do you have a certificate?</label><br>
                        <input type="radio" id="certificate_yes" name="certificate" value="yes">
                        <label for="certificate_yes">Yes</label>
                        <input type="radio" id="certificate_no" name="certificate" value="no">
                        <label for="certificate_no">No</label>
                    </div>
                    
                    <div class="form-group">
                        <label>Do you have a diploma?</label><br>
                        <input type="radio" id="diploma_yes" name="diploma" value="yes">
                        <label for="diploma_yes">Yes</label>
                        <input type="radio" id="diploma_no" name="diploma" value="no">
                        <label for="diploma_no">No</label>
                    </div>
                    
                    <div class="form-group">
                        <label>Do you have a degree?</label><br>
                        <input type="radio" id="degree_yes" name="degree" value="yes">
                        <label for="degree_yes">Yes</label>
                        <input type="radio" id="degree_no" name="degree" value="no">
                        <label for="degree_no">No</label>
                    </div>
                    
                    <div class="form-group">
                        <label>Do you have a masters degree?</label><br>
                        <input type="radio" id="masters_yes" name="masters" value="yes">
                        <label for="masters_yes">Yes</label>
                        <input type="radio" id="masters_no" name="masters" value="no">
                        <label for="masters_no">No</label>
                    </div>
                    
                    <div class="form-group">
                        <label>Do you have a PhD?</label><br>
                        <input type="radio" id="phd_yes" name="phd" value="yes">
                        <label for="phd_yes">Yes</label>
                        <input type="radio" id="phd_no" name="phd" value="no">
                        <label for="phd_no">No</label>
                    </div>

                    <!-- Role Selection -->
                    <h3>Role Selection</h3>
                    <div class="form-group">
                        <label for="role_category">Select Role Category:</label>
                        <select name="role_category" id="role_category" class="form-control" required>
                            <option value="">-- Select Category --</option>
                            <option value="Health Care">Health Care</option>
                            <option value="Communication and IT">Communication and IT</option>
                            <option value="Artillery and Combat">Artillery and Combat</option>
                        </select>
                    </div>
                    <!-- Subcategory Selection -->
                    <div class="form-group" id="subcategory_group" style="display: none;">
                        <label for="role_subcategory">Select Role Subcategory:</label>
                        <select name="role_subcategory" id="role_subcategory" class="form-control" required>
                            <!-- Subcategories will be populated dynamically using JavaScript -->
                        </select>
                    </div>
                    <!-- Qualification Requirements -->
                    <h3>Qualification Requirements</h3>
                    <!-- Display qualification requirements based on selected role subcategory using JavaScript -->
                    <div id="qualification_requirements"></div>
                    <!-- CV Upload -->
                    <div class="form-group">
                        <label for="cv">Upload CV:</label>
                        <input type="file" name="cv" id="cv" class="form-control-file" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Apply</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            // Define qualification requirements based on role subcategory
            var qualificationRequirements = {
                "Dentist": "Bachelor's degree in Dentistry, valid practicing license",
                "Nurse": "Diploma or Bachelor's degree in Nursing, valid practicing license",
                "Doctor": "Doctor of Medicine degree, valid practicing license",
                "Psychologist": "Master's degree in Psychology, valid practicing license",
                "Drone Operator": "Certification in drone operation, experience in aerial photography",
                "Information System Technician": "Bachelor's degree in Computer Science or related field, knowledge of network systems",
                "Multimedia Technician": "Diploma in Multimedia Technology, proficiency in multimedia software",
                "Telecommunication Technician": "Diploma in Telecommunication Engineering, experience in network maintenance",
                "Artillery Operator": "Training in artillery operation, physical fitness",
                "Air Defence Operator": "Training in air defense operations, knowledge of radar systems",
                "Mechanic": "Certification in mechanical engineering, experience in vehicle maintenance",
                "Signal Officer": "Bachelor's degree in Electrical Engineering, knowledge of signal communication systems"
            };

            // Define subcategories for each main category
            var subcategories = {
                "Health Care": ["Dentist", "Nurse", "Doctor", "Psychologist"],
                "Communication and IT": ["Drone Operator", "Information System Technician", "Multimedia Technician", "Telecommunication Technician"],
                "Artillery and Combat": ["Artillery Operator", "Air Defence Operator", "Mechanic", "Signal Officer"]
            };

            // Function to display subcategories based on selected main category
            function displaySubcategories(category) {
                var options = "<option value=''>-- Select Subcategory --</option>";
                subcategories[category].forEach(function (subcategory) {
                    options += "<option value='" + subcategory + "'>" + subcategory + "</option>";
                });
                $("#role_subcategory").html(options);
                $("#subcategory_group").show();
            }

            // Function to display qualification requirements based on selected role subcategory
            function displayQualificationRequirements(roleSubcategory) {
                var requirements = qualificationRequirements[roleSubcategory];
                if (requirements) {
                    $("#qualification_requirements").html("<p><strong>Qualification Requirements:</strong> " + requirements + "</p>");
                } else {
                    $("#qualification_requirements").html("");
                }
            }

            // Event listener for role category selection
            $("#role_category").change(function () {
                var selectedCategory = $(this).val();
                displaySubcategories(selectedCategory);
            });

            // Event listener for role subcategory selection
            $("#role_subcategory").change(function () {
                var selectedSubcategory = $(this).val();
                displayQualificationRequirements(selectedSubcategory);
            });

            // Event listener for volunteer experience selection
            $("#volunteer_experience").change(function () {
                var volunteerExperience = $(this).val();
                if (volunteerExperience === "Yes") {
                    $("#volunteer_details_group").show();
                } else {
                    $("#volunteer_details_group").hide();
                }
            });
        });
    </script>
    <script>
        $(document).ready(function () {
            // Client-side form validation
            $("#application_form").submit(function (event) {
                var formValid = true;
                $(this).find("input, select").each(function () {
                    if ($(this).prop("required") && !$(this).val()) {
                        formValid = false;
                        $(this).addClass("is-invalid");
                    }
                });
                if (!formValid) {
                    event.preventDefault();
                    alert("Please fill in all required fields.");
                }
            });
        });
    </script>
</body>

</html>